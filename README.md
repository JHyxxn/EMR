# 🏥 EMR (Electronic Medical Records) System

## 📋 이 시스템이 뭔가요?
이 시스템은 병원에서 의료진이 환자의 진료 기록을 전자적으로 관리할 수 있게 해주는 프로그램입니다.
실제 병원에서 사용할 수 있는 수준의 기능들을 제공하며, AI(인공지능) 기술을 활용하여 의료진의 업무를 도와줍니다.

## 🎯 왜 만들었나요?
- 의료진의 업무 효율성 향상
- 환자 안전 보장 (정확한 의료 정보 관리)
- 의료 데이터 통합 관리
- 현대적인 의료 환경 구축

---

## ✨ 주요 기능

### 🆕 최신 업데이트 (2025년 1월)
- **환자 데이터**: 50명의 환자 데이터 생성 완료
- **금일 대기 환자**: 15명의 대기 환자 목록 생성
- **문서 관리 시스템**: 소견서, 진료 보고서, 처방전, 검사 요청서 자동 생성
- **검사 관리 시스템**: 검사 요청, 일정 관리, 결과 입력 및 해석
- **처방 관리 시스템**: 처방전 작성, 약물 상호작용 검사, 처방 이력 관리

### 👥 환자 관리 시스템
**개념**: 환자의 기본 정보를 체계적으로 관리하는 시스템
**역할**: 의료진이 환자 정보에 쉽게 접근할 수 있게 해줌
**구현**: 
- 신규 환자 등록/수정
- 환자 검색 (이름, MRN, 생년월일, 전화번호)
- 재진환자 차트에서 정확한 환자 검색
- 동명이인 구분 (생년월일, 전화번호 뒷자리)

### 📊 진료 차트 시스템
**개념**: 환자의 진료 과정을 기록하고 관리하는 시스템
**역할**: 의료진이 환자의 진료 이력을 추적하고 관리할 수 있게 해줌
**구현**:
- SOAP 진료 기록 작성 (주관적, 객관적, 평가, 계획)
- 바이탈 사인 입력 (혈압, 맥박, 체온)
- 검사 결과 관리
- 처방 기록 관리

### 🤖 AI 진료 지원
**개념**: 인공지능이 의료진을 도와주는 시스템
**역할**: AI가 진료 기록을 분석하여 진단을 도와주고, 약물 상호작용을 검사해줌
**구현**:
- AI가 진료 기록을 분석하여 진단 도움
- 약물 상호작용 검사 (500개 약물 데이터베이스)
- 처방 가이드 제공
- 증상 분석 및 진단 추천

### 🔒 시스템 인프라
**개념**: 시스템이 안전하고 안정적으로 작동하도록 하는 기반 기술
**역할**: 의료진만 시스템에 접근할 수 있도록 보호하고, 데이터를 안전하게 관리
**구현**:
- JWT 기반 인증 시스템 (로그인 보안)
- 실시간 대시보드 (현재 상황을 실시간으로 확인)
- 금일대기환자 목록 (18:30 리셋)
- 데이터 보안 및 암호화

---

## 🏥 실제 사용 시나리오 (발표용)

### 시나리오 1: 대시보드 - 환자 접수 및 관리
**담당자**: 이희창 (Frontend)
**기술**: React, CSS Grid, JavaScript Date 객체
**과정**:
1. 환자 도착 (09:00) - 환자가 병원에 도착
2. 간호사 문진 (09:10) - 간호사가 환자 상태를 파악
3. 대기 목록 등록 (09:15) - 환자를 대기 목록에 등록
4. 실시간 대기 목록 관리 - 환자 상태를 실시간으로 추적
5. 병원 운영시간 관리 (09:00~18:00) - 운영시간에 따른 자동 관리

### 시나리오 2: 환자 차트 - 진료 기록 관리
**담당자**: 이윤효 (Backend)
**기술**: Prisma ORM, RESTful API, SQLite
**과정**:
1. 환자 선택 (10:00) - 대기 목록에서 환자 선택
2. 이전 진료 기록 조회 (10:05) - 환자의 과거 진료 기록 확인
3. SOAP 진료 기록 작성 (10:10) - 주관적, 객관적, 평가, 계획 기록
4. 바이탈 사인 입력 (10:15) - 혈압, 맥박, 체온 등 측정값 입력
5. 진료 기록 저장 (10:20) - 데이터베이스에 진료 기록 저장

### 시나리오 3: 검사 관리 - AI 기반 검사 분석
**담당자**: 김지현 (AI-Gateway)
**기술**: 조건부 렌더링, 데이터 시뮬레이션
**과정**:
1. 검사 결과 입력 (11:00) - 혈압, 심전도, 혈당 등 검사 결과 입력
2. AI 분석 실행 (11:05) - AI가 검사 결과를 자동 분석
3. 이상 수치 감지 (11:10) - 정상 범위를 벗어난 수치를 빨간색으로 표시
4. 검사 해석 제공 (11:15) - AI가 검사 결과에 대한 해석 제공
5. 권장사항 제시 (11:20) - AI가 추가 검사나 치료를 권장

### 시나리오 4: 문서 발급 - 소견서 자동 생성
**담당자**: 김종원 (Downloads)
**기술**: 약물 데이터베이스, Local Storage
**과정**:
1. 진료 완료 (12:00) - 환자 진료 완료
2. 소견서 생성 요청 (12:05) - 소견서 자동 생성 버튼 클릭
3. 환자 정보 자동 입력 (12:10) - 환자 기본 정보와 진료 내용 자동 입력
4. 소견서 내용 편집 (12:15) - 필요시 소견서 내용 수정
5. 소견서 발급 및 저장 (12:20) - 최종 소견서 발급 및 시스템에 저장

---

## 👥 팀원별 담당업무

### 김지현 (팀장) - AI-Gateway 담당
**담당 영역**: AI 시스템 + 약물 상호작용 검증 + 백엔드 데이터관리
**개념 설명**:
- AI Gateway: 인공지능을 활용하여 의료진을 도와주는 시스템
- 약물 상호작용 검증: 처방된 약물들이 서로 부작용을 일으키지 않는지 확인
- 데이터 관리: 환자 정보와 진료 기록을 체계적으로 관리

**핵심 성과**:
- AI 기반 검사 결과 분석 시스템 구현
- 약물 상호작용 검증 로직 개발 (500개 약물 데이터베이스)
- 자동 소견서 생성 시스템 구축
- 검사 수치 정상/비정상 판단 알고리즘 구현

### 이윤효 - Backend 담당
**담당 영역**: 서버 구축 + API 개발 + 데이터베이스 관리
**개념 설명**:
- 서버: 웹사이트의 "뒷부분"을 담당하는 컴퓨터 프로그램
- API: 프론트엔드와 백엔드를 연결하는 통신 시스템
- 데이터베이스: 환자 정보, 진료 기록 등을 저장하는 전자 저장소

**핵심 성과**:
- Node.js + Express.js 서버 구축
- RESTful API 개발 (환자, 진료기록, 검사결과)
- SQLite 데이터베이스 설계 및 최적화
- 데이터 동기화 및 일관성 유지 시스템 구현

### 이희창 - Frontend 담당
**담당 영역**: 사용자 인터페이스 개발 + 사용자 경험 최적화
**개념 설명**:
- 사용자 인터페이스: 의료진이 실제로 사용하는 화면과 기능들
- 반응형 디자인: 다양한 화면 크기에서도 잘 보이도록 하는 기술
- 사용자 경험: 의료진이 쉽고 편리하게 사용할 수 있도록 하는 것

**핵심 성과**:
- React 18 + TypeScript UI 개발
- 실시간 대시보드 구현 (환자 대기 목록 관리)
- 반응형 디자인 (데스크톱 최적화)
- 사용자 인터랙션 및 상태 관리 구현

### 김종원 - Downloads 담당
**담당 영역**: 약물 데이터베이스 구축 + 데이터 수집 및 정제
**개념 설명**:
- 데이터 수집: 시스템에 필요한 약물 정보를 외부에서 가져오는 작업
- 데이터 정제: 수집한 데이터를 정확하고 사용하기 좋은 형태로 변환
- 데이터베이스 구축: 약물 정보를 체계적으로 저장하고 관리

**핵심 성과**:
- 공공 의료 데이터 포털에서 약물 정보 수집
- Python pandas를 활용한 데이터 정제 및 변환
- 500개 약물 상호작용 데이터베이스 구축
- Frontend 연동을 위한 데이터 구조화

---

## 🆕 새로 추가된 관리 시스템

### 📄 문서 관리 시스템
**개념**: 병원에서 필요한 각종 문서를 자동으로 생성하고 관리하는 시스템
**역할**: 의료진이 수작업으로 작성해야 하는 문서들을 자동으로 생성해줌

**구현 기능**:
- **소견서 생성**: 상급 종합병원 진료 권고 시 자동 소견서 생성
- **진료 보고서**: 진료 완료 후 자동 보고서 생성 (SOAP 형식)
- **처방전 작성**: 전자 처방전 시스템
- **검사 요청서**: 검사 요청서 자동 생성

**기술적 특징**:
- 템플릿 기반 문서 생성
- 환자 정보 자동 매핑
- 의료진 정보 자동 입력
- 파일 시스템 저장

### 🔬 검사 관리 시스템
**개념**: 병원에서 필요한 각종 검사를 체계적으로 관리하는 시스템
**역할**: 검사 요청부터 결과 해석까지 전 과정을 관리

**구현 기능**:
- **검사 요청**: 의료진이 필요한 검사를 요청
- **검사 일정**: 검사실과 시간 배정
- **검사 결과**: 검사 결과 입력 및 해석
- **정상 범위**: 각 검사별 정상 범위 자동 비교

**기술적 특징**:
- 5개 카테고리 검사 지원 (혈액, 생화학, 심장, 갑상선, 종양)
- 정상 범위 자동 해석
- 검사기사 자동 배정
- 검사실 자동 배정

### 💊 처방 관리 시스템
**개념**: 환자에게 처방하는 약물을 체계적으로 관리하는 시스템
**역할**: 약물 처방부터 상호작용 검사까지 전 과정을 관리

**구현 기능**:
- **처방전 작성**: 전자 처방전 자동 생성
- **약물 상호작용**: 처방 약물 간 상호작용 자동 검사
- **금기사항**: 환자 상태별 금기사항 확인
- **처방 이력**: 환자별 처방 이력 관리

**기술적 특징**:
- 500개 약물 데이터베이스
- 상호작용 심각도 평가 (High/Medium/Low)
- 금기사항 자동 확인
- 처방 이력 추적

---

## 🛠 기술 스택

### AI-Gateway (김지현 담당)
**개념**: 인공지능을 활용하여 의료진을 도와주는 기술들
- **JavaScript/TypeScript**: AI 로직 구현 언어
- **조건부 렌더링**: 검사 결과에 따른 시각적 표시
- **데이터 시뮬레이션**: AI 분석 결과 시뮬레이션
- **로컬 데이터 처리**: 약물 상호작용 검증 로직

### Backend (이윤효 담당)
**개념**: 웹사이트의 "뒷부분"을 담당하는 기술들
- **Node.js**: JavaScript로 서버를 만드는 기술
- **Express.js**: 웹 애플리케이션을 쉽게 만들 수 있게 해주는 도구
- **SQLite**: 경량 데이터베이스 (개발용)
- **RESTful API**: 프론트엔드와 백엔드를 연결하는 통신 시스템

### Frontend (이희창 담당)
**개념**: 의료진이 실제로 사용하는 화면을 만드는 기술들
- **React 18**: 사용자 인터페이스를 만드는 라이브러리
- **TypeScript**: JavaScript에 타입 안전성을 추가한 언어
- **CSS3 (Grid, Flexbox)**: 레이아웃을 구성하는 스타일링 기술
- **Local Storage**: 브라우저에 데이터를 저장하는 기술

### Downloads (김종원 담당)
**개념**: 시스템에 필요한 데이터를 수집하고 관리하는 기술들
- **Python 3.x**: 데이터 처리 및 분석 언어
- **pandas 라이브러리**: 데이터 정제 및 변환 도구
- **CSV/JSON 파일 처리**: 데이터 파일 읽기 및 쓰기
- **데이터 검증**: 수집한 데이터의 정확성 확인

### 개발 도구
**개념**: 개발을 도와주는 도구들
- **Git**: 코드 버전 관리 시스템
- **GitHub**: 코드 저장소 및 협업 플랫폼
- **Vite**: 빠른 개발 서버 및 빌드 도구

---

## 📈 현재 성과 및 향후 계획

### ✅ 현재 성과
- ✅ 기본 EMR 시스템 완성 - 핵심 기능 모두 구현
- ✅ AI 통합 완료 - 의료진 업무 지원 가능
- ✅ 환자 데이터 구축 완료 - 100명 규모 수작업 구축
- ✅ 약물 데이터베이스 통합 완료 - 500개 약물 상호작용 데이터
- ✅ 실시간 대시보드 구현 - 환자 대기 목록 실시간 관리
- ✅ AI 처방 가이드 - 약물 상호작용 검사 및 처방 도움

### 🔄 향후 계획 (미구현 기능들)

#### 📋 문서 관리 시스템
- **소견서 작성 기능** - 상급 종합병원 진료 권고 시 소견서 자동 생성
- **진료 보고서 생성** - 진료 완료 후 자동 보고서 생성
- **처방전 작성** - 전자 처방전 시스템
- **검사 요청서** - 검사 요청서 자동 생성

#### 🔔 실시간 알림 시스템
- **위험 수치 알림** - 혈압, 혈당 등 위험 수치 자동 감지
- **약물 상호작용 알림** - 처방 시 상호작용 자동 알림
- **환자 상태 모니터링** - 환자 상태 변화 실시간 추적

#### 🔍 검사 관리 시스템
- **검사 요청서 작성** - 의사가 검사를 요청할 수 있는 시스템
- **검사 결과 입력** - 검사 결과를 입력하고 관리하는 시스템
- **검사 결과 AI 분석** - AI가 검사 결과를 분석하여 해석 제공

#### 💊 처방 관리 시스템
- **전자 처방전** - 전자 처방전 작성 및 관리
- **약물 재고 관리** - 약물 재고 현황 관리
- **처방 이력 관리** - 환자별 처방 이력 추적

#### 📊 데이터 확장
- **대용량 환자 데이터** - 500명+ 환자 데이터 구축
- **약물 데이터베이스 확장** - 1000개+ 약물 정보
- **의료 코드 표준화** - ICD-10, LOINC 코드 매핑
- **검사 결과 데이터** - 다양한 검사 항목 및 정상범위

#### 🚀 성능 최적화
- **대용량 데이터 처리** - 많은 환자 데이터를 빠르게 처리
- **실시간 업데이트** - 시스템 상태 실시간 모니터링
- **데이터 백업/복구** - 의료 데이터 안전성 확보
- **시스템 안정성** - 24시간 안정적 운영

#### 🤖 AI 기능 확장
- **더 많은 AI 모델** - 추가 AI 서비스 통합
- **예측 분석** - 환자 상태 예측 및 조기 경고
- **의료 지식 기반** - 의료 지식 데이터베이스 구축
- **자동 진단 지원** - AI 기반 진단 추천 시스템

---

## 🚧 개발 현황

### ✅ 구현 완료된 기능
- 기본 EMR 시스템 구조
- 환자 관리 시스템 (등록, 검색, 수정)
- 진료 기록 관리 (SOAP 기록, 바이탈 사인)
- AI 진료 지원 (진단 도움, 처방 가이드)
- 실시간 대시보드
- 약물 상호작용 검사 (500개 약물)
- 인증 시스템 (JWT)
- 데이터베이스 설계 및 최적화
- **문서 관리 시스템** (소견서, 진료 보고서, 처방전, 검사 요청서)
- **검사 관리 시스템** (검사 요청, 일정 관리, 결과 해석)
- **처방 관리 시스템** (처방전 작성, 상호작용 검사, 처방 이력)
- **환자 데이터** (50명 환자 + 15명 대기 환자)

### 🔄 진행 중인 작업
- 환자 데이터 수작업 구축 (50명 완성, 추가 확장 예정)
- 약물 데이터베이스 구축 (500개 데이터 통합 완료)
- 문서 관리 시스템 프론트엔드 연동
- 검사 관리 시스템 프론트엔드 연동
- 처방 관리 시스템 프론트엔드 연동

### 📋 향후 구현 예정 기능
- 실시간 알림 시스템
- 모바일 앱 개발
- 클라우드 배포
- 보안 강화
- 대용량 데이터 처리
- AI 기능 확장

---

## 🎯 발표 시 강조할 점들

### 💡 핵심 메시지
> **"실제 의료 경험을 바탕으로 의료진이 실제로 사용하는 업무 흐름을 분석하여 시스템을 설계했습니다"**

> **"각자 전문 분야를 담당하여 효율적으로 개발했습니다 - AI-Gateway, Backend, Frontend, Downloads"**

> **"환자 데이터 50명을 수작업으로 구축하는 것은 정말 시간이 많이 걸리는 작업이었습니다"**

> **"문서/검사/처방 관리 시스템까지 포함한 완전한 EMR 시스템을 구축했습니다"**

> **"실제 병원에서 사용할 수 있는 수준의 시스템을 구축했습니다"**

### 🏆 주요 성과 강조
1. **완전한 EMR 시스템 구축** - 실제 병원에서 사용 가능한 수준
2. **AI 기반 검사 분석** - 검사 결과 자동 분석 및 이상 수치 감지
3. **약물 상호작용 검증** - 500개 약물 데이터베이스 기반 상호작용 검사
4. **실시간 대시보드** - 환자 대기 목록 실시간 관리
5. **자동 소견서 생성** - 진료 완료 후 소견서 자동 생성
6. **문서 관리 시스템** - 소견서, 진료 보고서, 처방전 자동 생성
7. **검사 관리 시스템** - 검사 요청부터 결과 해석까지 전 과정 관리
8. **처방 관리 시스템** - 처방전 작성, 상호작용 검사, 처방 이력 관리

### 📊 개발 현황 요약
- **개발 기간**: 2개월
- **팀원**: 4명 (김지현-AI-Gateway, 이윤효-Backend, 이희창-Frontend, 김종원-Downloads)
- **구현된 기능**: 핵심 EMR 시스템 + 문서/검사/처방 관리 시스템 완성
- **환자 데이터**: 50명 환자 + 15명 대기 환자
- **약물 데이터**: 500개 약물 정보
- **데이터 구축**: 환자 50명, 약물 500개 수작업 구축
- **기술 수준**: 실제 병원에서 사용 가능한 수준

### 🎤 발표 시나리오 4개
1. **대시보드** (이희창) - React, CSS Grid, JavaScript Date 객체
2. **환자 차트** (이윤효) - Prisma ORM, RESTful API, SQLite
3. **검사 관리** (김지현) - 조건부 렌더링, 데이터 시뮬레이션
4. **문서 발급** (김종원) - 약물 데이터베이스, Local Storage

---

## 🚀 실행 방법

### 요구사항
- Node.js 18+
- npm 또는 pnpm
- Git

### 설치 및 실행
```bash
# 1. 저장소 클론
git clone https://github.com/JHyxxn/EMR.git
cd EMR

# 2. 의존성 설치
npm install

# 3. 환경 변수 설정
cp env_example.txt .env
# .env 파일에 API 키 등 설정

# 4. 데이터베이스 설정
cd backend
npx prisma generate
npx prisma migrate dev

# 5. 서비스 실행
# AI Gateway (터미널 1)
cd ai-gateway && npm run dev

# Backend (터미널 2)
cd backend && npm run dev

# Frontend (터미널 3)
cd frontend && npm run dev
```

### 접속 URL
- **Frontend**: http://localhost:5173
- **Backend API**: http://localhost:4000
- **AI Gateway**: http://localhost:5001
