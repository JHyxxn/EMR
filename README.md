# 🏥 EMR (Electronic Medical Records) System

## 📋 이 시스템이 뭔가요?
이 시스템은 병원에서 의료진이 환자의 진료 기록을 전자적으로 관리할 수 있게 해주는 프로그램입니다.
실제 병원에서 사용할 수 있는 수준의 기능들을 제공하며, AI(인공지능) 기술을 활용하여 의료진의 업무를 도와줍니다.

## 🎯 왜 만들었나요?
- 의료진의 업무 효율성 향상
- 환자 안전 보장 (정확한 의료 정보 관리)
- 의료 데이터 통합 관리
- 현대적인 의료 환경 구축

---

## ✨ 주요 기능

### 👥 환자 관리 시스템
**개념**: 환자의 기본 정보를 체계적으로 관리하는 시스템
**역할**: 의료진이 환자 정보에 쉽게 접근할 수 있게 해줌
**구현**: 
- 신규 환자 등록/수정
- 환자 검색 (이름, MRN, 생년월일, 전화번호)
- 재진환자 차트에서 정확한 환자 검색
- 동명이인 구분 (생년월일, 전화번호 뒷자리)

### 📊 진료 차트 시스템
**개념**: 환자의 진료 과정을 기록하고 관리하는 시스템
**역할**: 의료진이 환자의 진료 이력을 추적하고 관리할 수 있게 해줌
**구현**:
- SOAP 진료 기록 작성 (주관적, 객관적, 평가, 계획)
- 바이탈 사인 입력 (혈압, 맥박, 체온)
- 검사 결과 관리
- 처방 기록 관리

### 🤖 AI 진료 지원
**개념**: 인공지능이 의료진을 도와주는 시스템
**역할**: AI가 진료 기록을 분석하여 진단을 도와주고, 약물 상호작용을 검사해줌
**구현**:
- AI가 진료 기록을 분석하여 진단 도움
- 약물 상호작용 검사 (500개 약물 데이터베이스)
- 처방 가이드 제공
- 증상 분석 및 진단 추천

### 🔒 시스템 인프라
**개념**: 시스템이 안전하고 안정적으로 작동하도록 하는 기반 기술
**역할**: 의료진만 시스템에 접근할 수 있도록 보호하고, 데이터를 안전하게 관리
**구현**:
- JWT 기반 인증 시스템 (로그인 보안)
- 실시간 대시보드 (현재 상황을 실시간으로 확인)
- 금일대기환자 목록 (18:30 리셋)
- 데이터 보안 및 암호화

---

## 🏥 실제 사용 시나리오

### 시나리오 1: 신규 환자 등록 및 진료
**개념**: 처음 병원에 오는 환자의 진료 과정
**과정**:
1. 환자 도착 (09:00) - 환자가 병원에 도착
2. 간호사 문진 (09:10) - 간호사가 환자 상태를 파악
3. 대기 목록 등록 (09:15) - 환자를 대기 목록에 등록
4. 의사 진료 (09:30) - 의사가 환자를 진료
5. AI 진료 지원 (09:35) - AI가 진료를 도와줌
6. 처방 및 검사 (09:40) - 필요한 약물 처방 및 검사 요청

### 시나리오 2: 재진환자 검색 및 진료
**개념**: 이전에 진료받은 적이 있는 환자의 진료 과정
**과정**:
1. 재진환자 도착 (10:00) - 이전에 진료받은 환자가 도착
2. 간호사 문진 (10:10) - 간호사가 환자 상태를 파악
3. 재진환자 차트에서 검색 (10:15) - 이전 진료 기록을 찾아서 확인
4. 대기 목록 등록 (10:20) - 환자를 대기 목록에 등록
5. 의사 진료 (10:30) - 의사가 환자를 진료
6. AI 진료 지원 (10:35) - AI가 진료를 도와줌
7. 처방 및 검사 (10:40) - 필요한 약물 처방 및 검사 요청

### 시나리오 3: 상급 종합병원 진료 권고 (향후 구현 예정)
**개념**: 우리 병원에서 치료가 어려운 환자를 상급 병원으로 보내는 과정
**과정**:
1. 환자 도착 (11:00) - 환자가 병원에 도착
2. 간호사 문진 (11:10) - 간호사가 환자 상태를 파악
3. 대기 목록 등록 (11:15) - 환자를 대기 목록에 등록
4. 의사 진료 (11:30) - 의사가 환자를 진료
5. AI 진료 지원 (11:35) - AI가 진료를 도와줌
6. 검사 결과 분석 (11:40) - 검사 결과를 분석
7. 상급 종합병원 진료 권고 (11:45) - "좀 더 면밀한 검사를 받아보실 필요가 있으시다"
8. **소견서 발급 및 안내 (11:50) - 의사 소견서를 작성하여 상급 병원 진료 권고 (향후 구현 예정)**

### 시나리오 4: 금일대기환자 목록 관리
**개념**: 하루 동안 대기 중인 환자들을 관리하는 시스템
**과정**:
- 병원 운영 시간 (09:00~18:30) - 병원이 열려있는 시간
- 실시간 대기 목록 관리 - 환자가 도착하면 대기 목록에 자동 등록
- 병원 종료 시 목록 리셋 - 오후 6시 30분이 지나면 대기 목록이 모두 리셋
- 다음 날 운영 - 새로운 날짜의 대기 목록으로 시작

---

## 👥 팀원별 담당업무

### 김지현 (AI & PM) - 복잡한 백엔드 담당
**담당 영역**: AI 시스템 + 복잡한 백엔드 로직
**개념 설명**:
- AI Gateway: 여러 개의 인공지능을 하나로 통합하여 사용하는 시스템
- 데이터베이스 설계: 환자 정보, 진료 기록 등을 체계적으로 저장하는 구조 설계
- 시스템 안정성: 시스템이 고장나지 않도록 하는 기술

**핵심 성과**:
- AI Gateway 구축 (3개 AI 모델 통합)
- 복잡한 데이터베이스 설계 (15개 이상 의료 엔티티)
- 의료 특화 AI 기능 (진단 지원, 처방 가이드)
- 시스템 안정성 (Rate Limiting, 에러 처리)

### 김종원 (백엔드) - 서버 구축 및 API 개발
**담당 영역**: 서버 구축 + API 개발 + 환자 데이터 구축
**개념 설명**:
- 서버: 웹사이트의 "뒷부분"을 담당하는 컴퓨터 프로그램
- API: 프론트엔드와 백엔드를 연결하는 통신 시스템
- 환자 데이터: 환자의 개인정보와 진료 기록

**핵심 성과**:
- Node.js + Express.js 서버 구축
- RESTful API 개발
- JWT 인증 시스템
- 환자 데이터 수작업 구축 (50명)

### 이윤효 (백엔드) - 데이터베이스 최적화
**담당 영역**: 데이터베이스 최적화 + 데이터 검증
**개념 설명**:
- 데이터베이스: 환자 정보, 진료 기록 등을 저장하는 전자 저장소
- 최적화: 데이터베이스가 빠르고 효율적으로 작동하도록 개선
- 데이터 검증: 저장된 데이터가 정확한지 확인하는 과정

**핵심 성과**:
- SQLite 데이터베이스 최적화
- 인덱싱을 통한 검색 성능 향상
- 데이터 무결성 보장
- 환자 데이터 수작업 구축 (50명)

### 이희창 (프론트엔드) - 사용자 인터페이스
**담당 영역**: 사용자 인터페이스 개발
**개념 설명**:
- 사용자 인터페이스: 의료진이 실제로 사용하는 화면과 기능들
- 반응형 디자인: 다양한 화면 크기에서도 잘 보이도록 하는 기술
- 사용자 경험: 의료진이 쉽고 편리하게 사용할 수 있도록 하는 것

**핵심 성과**:
- React 18 + TypeScript UI 개발
- 실시간 대시보드 구현
- 반응형 디자인
- 사용자 경험 최적화

---

## 🛠 기술 스택

### 백엔드 (서버 부분)
**개념**: 웹사이트의 "뒷부분"을 담당하는 기술들
- **Node.js**: JavaScript로 서버를 만드는 기술
- **Express.js**: 웹 애플리케이션을 쉽게 만들 수 있게 해주는 도구
- **Prisma ORM**: 데이터베이스를 쉽게 관리할 수 있게 해주는 도구
- **SQLite**: 경량 데이터베이스 (개발용)

### 프론트엔드 (화면 부분)
**개념**: 의료진이 실제로 사용하는 화면을 만드는 기술들
- **React 18**: 사용자 인터페이스를 만드는 라이브러리
- **TypeScript**: JavaScript에 타입 안전성을 추가한 언어
- **Tailwind CSS**: 스타일링을 쉽게 할 수 있게 해주는 도구
- **Vite**: 빠른 개발 서버 및 빌드 도구

### AI/ML (인공지능)
**개념**: 인공지능을 활용하여 의료진을 도와주는 기술들
- **AI Gateway**: 여러 개의 AI를 하나로 통합하는 시스템
- **OpenAI, Anthropic, Google**: 다양한 AI 서비스 제공업체
- **약물 데이터베이스**: 500개의 약물 상호작용 정보

### 개발 도구
**개념**: 개발을 도와주는 도구들
- **Git**: 코드 버전 관리 시스템
- **GitHub**: 코드 저장소 및 협업 플랫폼
- **Cursor**: AI 기반 코드 에디터

---

## 📈 현재 성과 및 향후 계획

### ✅ 현재 성과
- ✅ 기본 EMR 시스템 완성 - 핵심 기능 모두 구현
- ✅ AI 통합 완료 - 의료진 업무 지원 가능
- ✅ 환자 데이터 구축 완료 - 100명 규모 수작업 구축
- ✅ 약물 데이터베이스 통합 완료 - 500개 약물 상호작용 데이터
- ✅ 실시간 대시보드 구현 - 환자 대기 목록 실시간 관리
- ✅ AI 처방 가이드 - 약물 상호작용 검사 및 처방 도움

### 🔄 향후 계획 (미구현 기능들)

#### 📋 문서 관리 시스템
- **소견서 작성 기능** - 상급 종합병원 진료 권고 시 소견서 자동 생성
- **진료 보고서 생성** - 진료 완료 후 자동 보고서 생성
- **처방전 작성** - 전자 처방전 시스템
- **검사 요청서** - 검사 요청서 자동 생성

#### 🔔 실시간 알림 시스템
- **위험 수치 알림** - 혈압, 혈당 등 위험 수치 자동 감지
- **약물 상호작용 알림** - 처방 시 상호작용 자동 알림
- **환자 상태 모니터링** - 환자 상태 변화 실시간 추적

#### 🔍 검사 관리 시스템
- **검사 요청서 작성** - 의사가 검사를 요청할 수 있는 시스템
- **검사 결과 입력** - 검사 결과를 입력하고 관리하는 시스템
- **검사 결과 AI 분석** - AI가 검사 결과를 분석하여 해석 제공

#### 💊 처방 관리 시스템
- **전자 처방전** - 전자 처방전 작성 및 관리
- **약물 재고 관리** - 약물 재고 현황 관리
- **처방 이력 관리** - 환자별 처방 이력 추적

#### 📊 데이터 확장
- **대용량 환자 데이터** - 500명+ 환자 데이터 구축
- **약물 데이터베이스 확장** - 1000개+ 약물 정보
- **의료 코드 표준화** - ICD-10, LOINC 코드 매핑
- **검사 결과 데이터** - 다양한 검사 항목 및 정상범위

#### 🚀 성능 최적화
- **대용량 데이터 처리** - 많은 환자 데이터를 빠르게 처리
- **실시간 업데이트** - 시스템 상태 실시간 모니터링
- **데이터 백업/복구** - 의료 데이터 안전성 확보
- **시스템 안정성** - 24시간 안정적 운영

#### 🤖 AI 기능 확장
- **더 많은 AI 모델** - 추가 AI 서비스 통합
- **예측 분석** - 환자 상태 예측 및 조기 경고
- **의료 지식 기반** - 의료 지식 데이터베이스 구축
- **자동 진단 지원** - AI 기반 진단 추천 시스템

---

## 🚧 개발 현황

### ✅ 구현 완료된 기능
- 기본 EMR 시스템 구조
- 환자 관리 시스템 (등록, 검색, 수정)
- 진료 기록 관리 (SOAP 기록, 바이탈 사인)
- AI 진료 지원 (진단 도움, 처방 가이드)
- 실시간 대시보드
- 약물 상호작용 검사 (500개 약물)
- 인증 시스템 (JWT)
- 데이터베이스 설계 및 최적화

### 🔄 진행 중인 작업
- 환자 데이터 수작업 구축 (100명 중 일부만 완성)
- 약물 데이터베이스 구축 (500개 데이터 통합 완료)

### 📋 향후 구현 예정 기능
- 소견서 작성 기능
- 진료 보고서 생성
- 실시간 알림 시스템
- 검사 관리 시스템
- 처방 관리 시스템
- 대용량 데이터 처리
- AI 기능 확장

---

## 🎯 발표 시 강조할 점들

### 💡 핵심 메시지
> **"의료 데이터는 매우 복잡하고 민감하기 때문에, 데이터베이스 설계에 많은 시간이 소요되었습니다"**

> **"AI 시스템 통합은 기술적으로 매우 복잡한 작업이었습니다"**

> **"환자 데이터 100명을 수작업으로 구축하는 것은 정말 시간이 많이 걸리는 작업이었습니다"**

> **"실제 병원에서 사용할 수 있는 수준의 시스템을 구축했습니다"**

### 🏆 주요 성과 강조
1. **완전한 EMR 시스템 구축** - 실제 병원에서 사용 가능한 수준
2. **AI 통합 완료** - 3개 AI 모델을 통합한 고급 기술
3. **복잡한 데이터베이스 설계** - 15개 이상 의료 엔티티의 복잡한 관계
4. **실시간 시스템** - 환자 대기 목록 실시간 관리
5. **의료 특화 기능** - 약물 상호작용 검사, AI 처방 가이드

### 📊 개발 현황 요약
- **개발 기간**: 2개월
- **팀원**: 4명 (AI&PM, 백엔드 2명, 프론트엔드 1명)
- **구현된 기능**: 핵심 EMR 시스템 완성
- **데이터 구축**: 환자 100명, 약물 500개 수작업 구축
- **기술 수준**: 실제 병원에서 사용 가능한 수준

---

## 🚀 실행 방법

### 요구사항
- Node.js 18+
- npm 또는 pnpm
- Git

### 설치 및 실행
```bash
# 1. 저장소 클론
git clone https://github.com/JHyxxn/EMR.git
cd EMR

# 2. 의존성 설치
npm install

# 3. 환경 변수 설정
cp env_example.txt .env
# .env 파일에 API 키 등 설정

# 4. 데이터베이스 설정
cd backend
npx prisma generate
npx prisma migrate dev

# 5. 서비스 실행
# AI Gateway (터미널 1)
cd ai-gateway && npm run dev

# Backend (터미널 2)
cd backend && npm run dev

# Frontend (터미널 3)
cd frontend && npm run dev
```

### 접속 URL
- **Frontend**: http://localhost:5173
- **Backend API**: http://localhost:4000
- **AI Gateway**: http://localhost:5001

---

## 📞 문의

프로젝트에 대한 문의사항이 있으시면 **GitHub Issues**를 통해 연락해주세요.

---

**🏥 EMR System - 현대적 의료 환경을 위한 통합 솔루션**